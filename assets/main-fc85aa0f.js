import"./_commonjsHelpers-9f0e44cc.js";import{r as y,g as N,a as $,c as ce,j as o,s as k,P as ue,b as J,d as He,l as Ve,_ as R,u as T,e as L,I as Ne,C as Yt,f as Q,h as U,B as es,k as xe,i as fe,m as te,n as ts,o as be,p as $e,q as bt,t as Ct,v as St,w as wt,T as I,x as q,y as Rt,z as ss,A as Z,D as rs,E as Ce,F as ns,S as G,G as Je,H as X,J as jt,K as is,L as os,M as as,N as ls,R as cs}from"./index-f860507c.js";class se{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const s={listener:e};return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const ae=typeof window>"u"||"Deno"in window;function E(){}function us(t,e){return typeof t=="function"?t(e):t}function Ae(t){return typeof t=="number"&&t>=0&&t!==1/0}function Mt(t,e){return Math.max(t+(e||0)-Date.now(),0)}function oe(t,e,s){return de(t)?typeof e=="function"?{...s,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function ds(t,e,s){return de(t)?typeof e=="function"?{...s,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function z(t,e,s){return de(t)?[{...e,queryKey:t},s]:[t||{},e]}function Ze(t,e){const{type:s="all",exact:r,fetchStatus:n,predicate:i,queryKey:a,stale:l}=t;if(de(a)){if(r){if(e.queryHash!==Te(a,e.options))return!1}else if(!pe(e.queryKey,a))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof n<"u"&&n!==e.state.fetchStatus||i&&!i(e))}function Xe(t,e){const{exact:s,fetching:r,predicate:n,mutationKey:i}=t;if(de(i)){if(!e.options.mutationKey)return!1;if(s){if(W(e.options.mutationKey)!==W(i))return!1}else if(!pe(e.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||n&&!n(e))}function Te(t,e){return((e==null?void 0:e.queryKeyHashFn)||W)(t)}function W(t){return JSON.stringify(t,(e,s)=>Ee(s)?Object.keys(s).sort().reduce((r,n)=>(r[n]=s[n],r),{}):s)}function pe(t,e){return Ot(t,e)}function Ot(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!Ot(t[s],e[s])):!1}function Pt(t,e){if(t===e)return t;const s=Ye(t)&&Ye(e);if(s||Ee(t)&&Ee(e)){const r=s?t.length:Object.keys(t).length,n=s?e:Object.keys(e),i=n.length,a=s?[]:{};let l=0;for(let c=0;c<i;c++){const u=s?c:n[c];a[u]=Pt(t[u],e[u]),a[u]===t[u]&&l++}return r===i&&l===r?t:a}return e}function me(t,e){if(t&&!e||e&&!t)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function Ye(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ee(t){if(!et(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const s=e.prototype;return!(!et(s)||!s.hasOwnProperty("isPrototypeOf"))}function et(t){return Object.prototype.toString.call(t)==="[object Object]"}function de(t){return Array.isArray(t)}function Ft(t){return new Promise(e=>{setTimeout(e,t)})}function tt(t){Ft(0).then(t)}function hs(){if(typeof AbortController=="function")return new AbortController}function De(t,e,s){return s.isDataEqual!=null&&s.isDataEqual(t,e)?t:typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?Pt(t,e):e}class fs extends se{constructor(){super(),this.setup=e=>{if(!ae&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),window.addEventListener("focus",s,!1),()=>{window.removeEventListener("visibilitychange",s),window.removeEventListener("focus",s)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var s;this.setup=e,(s=this.cleanup)==null||s.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const ye=new fs,st=["online","offline"];class ps extends se{constructor(){super(),this.setup=e=>{if(!ae&&window.addEventListener){const s=()=>e();return st.forEach(r=>{window.addEventListener(r,s,!1)}),()=>{st.forEach(r=>{window.removeEventListener(r,s)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var s;this.setup=e,(s=this.cleanup)==null||s.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const ve=new ps;function ms(t){return Math.min(1e3*2**t,3e4)}function Se(t){return(t??"online")==="online"?ve.isOnline():!0}class kt{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function he(t){return t instanceof kt}function At(t){let e=!1,s=0,r=!1,n,i,a;const l=new Promise((m,C)=>{i=m,a=C}),c=m=>{r||(p(new kt(m)),t.abort==null||t.abort())},u=()=>{e=!0},d=()=>{e=!1},h=()=>!ye.isFocused()||t.networkMode!=="always"&&!ve.isOnline(),f=m=>{r||(r=!0,t.onSuccess==null||t.onSuccess(m),n==null||n(),i(m))},p=m=>{r||(r=!0,t.onError==null||t.onError(m),n==null||n(),a(m))},g=()=>new Promise(m=>{n=C=>{const x=r||!h();return x&&m(C),x},t.onPause==null||t.onPause()}).then(()=>{n=void 0,r||t.onContinue==null||t.onContinue()}),b=()=>{if(r)return;let m;try{m=t.fn()}catch(C){m=Promise.reject(C)}Promise.resolve(m).then(f).catch(C=>{var x,j;if(r)return;const M=(x=t.retry)!=null?x:3,O=(j=t.retryDelay)!=null?j:ms,v=typeof O=="function"?O(s,C):O,w=M===!0||typeof M=="number"&&s<M||typeof M=="function"&&M(s,C);if(e||!w){p(C);return}s++,t.onFail==null||t.onFail(s,C),Ft(v).then(()=>{if(h())return g()}).then(()=>{e?p(C):b()})})};return Se(t.networkMode)?b():g().then(b),{promise:l,cancel:c,continue:()=>(n==null?void 0:n())?l:Promise.resolve(),cancelRetry:u,continueRetry:d}}const Le=console;function ys(){let t=[],e=0,s=d=>{d()},r=d=>{d()};const n=d=>{let h;e++;try{h=d()}finally{e--,e||l()}return h},i=d=>{e?t.push(d):tt(()=>{s(d)})},a=d=>(...h)=>{i(()=>{d(...h)})},l=()=>{const d=t;t=[],d.length&&tt(()=>{r(()=>{d.forEach(h=>{s(h)})})})};return{batch:n,batchCalls:a,schedule:i,setNotifyFunction:d=>{s=d},setBatchNotifyFunction:d=>{r=d}}}const P=ys();class Et{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ae(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(ae?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class vs extends Et{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Le,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||gs(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,s){const r=De(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(e,s){this.dispatch({type:"setState",state:e,setStateOptions:s})}cancel(e){var s;const r=this.promise;return(s=this.retryer)==null||s.cancel(e),r?r.then(E).catch(E):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Mt(this.state.dataUpdatedAt,e)}onFocus(){var e;const s=this.observers.find(r=>r.shouldFetchOnWindowFocus());s&&s.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const s=this.observers.find(r=>r.shouldFetchOnReconnect());s&&s.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,s){var r,n;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&s!=null&&s.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var i;return(i=this.retryer)==null||i.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}Array.isArray(this.options.queryKey);const a=hs(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>{if(a)return this.abortSignalConsumed=!0,a.signal}})};c(l);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(l)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),d={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(c(d),(r=this.options.behavior)==null||r.onFetch(d),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((n=d.fetchOptions)==null?void 0:n.meta)){var h;this.dispatch({type:"fetch",meta:(h=d.fetchOptions)==null?void 0:h.meta})}const f=p=>{if(he(p)&&p.silent||this.dispatch({type:"error",error:p}),!he(p)){var g,b,m,C;(g=(b=this.cache.config).onError)==null||g.call(b,p,this),(m=(C=this.cache.config).onSettled)==null||m.call(C,this.state.data,p,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=At({fn:d.fetchFn,abort:a==null?void 0:a.abort.bind(a),onSuccess:p=>{var g,b,m,C;if(typeof p>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(p),(g=(b=this.cache.config).onSuccess)==null||g.call(b,p,this),(m=(C=this.cache.config).onSettled)==null||m.call(C,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(p,g)=>{this.dispatch({type:"failed",failureCount:p,error:g})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const s=r=>{var n,i;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(n=e.meta)!=null?n:null,fetchStatus:Se(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(i=e.dataUpdatedAt)!=null?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return he(a)&&a.revert&&this.revertState?{...this.revertState}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),P.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function gs(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=typeof e<"u",r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"loading",fetchStatus:"idle"}}class Dt extends se{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,s,r){var n;const i=s.queryKey,a=(n=s.queryHash)!=null?n:Te(i,s);let l=this.get(a);return l||(l=new vs({cache:this,logger:e.getLogger(),queryKey:i,queryHash:a,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(l)),l}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const s=this.queriesMap[e.queryHash];s&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),s===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){P.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,s){const[r]=z(e,s);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(n=>Ze(r,n))}findAll(e,s){const[r]=z(e,s);return Object.keys(r).length>0?this.queries.filter(n=>Ze(r,n)):this.queries}notify(e){P.batch(()=>{this.listeners.forEach(({listener:s})=>{s(e)})})}onFocus(){P.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){P.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class xs extends Et{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Le,this.observers=[],this.state=e.state||It(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(s=>s!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,s;return(e=(s=this.retryer)==null?void 0:s.continue())!=null?e:this.execute()}async execute(){const e=()=>{var w;return this.retryer=At({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(S,F)=>{this.dispatch({type:"failed",failureCount:S,error:F})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(w=this.options.retry)!=null?w:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},s=this.state.status==="loading";try{var r,n,i,a,l,c,u,d;if(!s){var h,f,p,g;this.dispatch({type:"loading",variables:this.options.variables}),await((h=(f=this.mutationCache.config).onMutate)==null?void 0:h.call(f,this.state.variables,this));const S=await((p=(g=this.options).onMutate)==null?void 0:p.call(g,this.state.variables));S!==this.state.context&&this.dispatch({type:"loading",context:S,variables:this.state.variables})}const w=await e();return await((r=(n=this.mutationCache.config).onSuccess)==null?void 0:r.call(n,w,this.state.variables,this.state.context,this)),await((i=(a=this.options).onSuccess)==null?void 0:i.call(a,w,this.state.variables,this.state.context)),await((l=(c=this.mutationCache.config).onSettled)==null?void 0:l.call(c,w,null,this.state.variables,this.state.context,this)),await((u=(d=this.options).onSettled)==null?void 0:u.call(d,w,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:w}),w}catch(w){try{var b,m,C,x,j,M,O,v;throw await((b=(m=this.mutationCache.config).onError)==null?void 0:b.call(m,w,this.state.variables,this.state.context,this)),await((C=(x=this.options).onError)==null?void 0:C.call(x,w,this.state.variables,this.state.context)),await((j=(M=this.mutationCache.config).onSettled)==null?void 0:j.call(M,void 0,w,this.state.variables,this.state.context,this)),await((O=(v=this.options).onSettled)==null?void 0:O.call(v,void 0,w,this.state.variables,this.state.context)),w}finally{this.dispatch({type:"error",error:w})}}}dispatch(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Se(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=s(this.state),P.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function It(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Qt extends se{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,s,r){const n=new xs({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(s),state:r,defaultOptions:s.mutationKey?e.getMutationDefaults(s.mutationKey):void 0});return this.add(n),n}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(s=>s!==e),this.notify({type:"removed",mutation:e})}clear(){P.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(s=>Xe(e,s))}findAll(e){return this.mutations.filter(s=>Xe(e,s))}notify(e){P.batch(()=>{this.listeners.forEach(({listener:s})=>{s(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const s=this.mutations.filter(r=>r.state.isPaused);return P.batch(()=>s.reduce((r,n)=>r.then(()=>n.continue().catch(E)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function bs(){return{onFetch:t=>{t.fetchFn=()=>{var e,s,r,n,i,a;const l=(e=t.fetchOptions)==null||(s=e.meta)==null?void 0:s.refetchPage,c=(r=t.fetchOptions)==null||(n=r.meta)==null?void 0:n.fetchMore,u=c==null?void 0:c.pageParam,d=(c==null?void 0:c.direction)==="forward",h=(c==null?void 0:c.direction)==="backward",f=((i=t.state.data)==null?void 0:i.pages)||[],p=((a=t.state.data)==null?void 0:a.pageParams)||[];let g=p,b=!1;const m=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>{var w;if((w=t.signal)!=null&&w.aborted)b=!0;else{var S;(S=t.signal)==null||S.addEventListener("abort",()=>{b=!0})}return t.signal}})},C=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),x=(v,w,S,F)=>(g=F?[w,...g]:[...g,w],F?[S,...v]:[...v,S]),j=(v,w,S,F)=>{if(b)return Promise.reject("Cancelled");if(typeof S>"u"&&!w&&v.length)return Promise.resolve(v);const A={queryKey:t.queryKey,pageParam:S,meta:t.options.meta};m(A);const K=C(A);return Promise.resolve(K).then(je=>x(v,S,je,F))};let M;if(!f.length)M=j([]);else if(d){const v=typeof u<"u",w=v?u:rt(t.options,f);M=j(f,v,w)}else if(h){const v=typeof u<"u",w=v?u:Cs(t.options,f);M=j(f,v,w,!0)}else{g=[];const v=typeof t.options.getNextPageParam>"u";M=(l&&f[0]?l(f[0],0,f):!0)?j([],v,p[0]):Promise.resolve(x([],p[0],f[0]));for(let S=1;S<f.length;S++)M=M.then(F=>{if(l&&f[S]?l(f[S],S,f):!0){const K=v?p[S]:rt(t.options,F);return j(F,v,K)}return Promise.resolve(x(F,p[S],f[S]))})}return M.then(v=>({pages:v,pageParams:g}))}}}}function rt(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function Cs(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class Ss{constructor(e={}){this.queryCache=e.queryCache||new Dt,this.mutationCache=e.mutationCache||new Qt,this.logger=e.logger||Le,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=ye.subscribe(()=>{ye.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=ve.subscribe(()=>{ve.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,s;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(s=this.unsubscribeOnline)==null||s.call(this),this.unsubscribeOnline=void 0)}isFetching(e,s){const[r]=z(e,s);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,s){var r;return(r=this.queryCache.find(e,s))==null?void 0:r.state.data}ensureQueryData(e,s,r){const n=oe(e,s,r),i=this.getQueryData(n.queryKey);return i?Promise.resolve(i):this.fetchQuery(n)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:s,state:r})=>{const n=r.data;return[s,n]})}setQueryData(e,s,r){const n=this.queryCache.find(e),i=n==null?void 0:n.state.data,a=us(s,i);if(typeof a>"u")return;const l=oe(e),c=this.defaultQueryOptions(l);return this.queryCache.build(this,c).setData(a,{...r,manual:!0})}setQueriesData(e,s,r){return P.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,s,r)]))}getQueryState(e,s){var r;return(r=this.queryCache.find(e,s))==null?void 0:r.state}removeQueries(e,s){const[r]=z(e,s),n=this.queryCache;P.batch(()=>{n.findAll(r).forEach(i=>{n.remove(i)})})}resetQueries(e,s,r){const[n,i]=z(e,s,r),a=this.queryCache,l={type:"active",...n};return P.batch(()=>(a.findAll(n).forEach(c=>{c.reset()}),this.refetchQueries(l,i)))}cancelQueries(e,s,r){const[n,i={}]=z(e,s,r);typeof i.revert>"u"&&(i.revert=!0);const a=P.batch(()=>this.queryCache.findAll(n).map(l=>l.cancel(i)));return Promise.all(a).then(E).catch(E)}invalidateQueries(e,s,r){const[n,i]=z(e,s,r);return P.batch(()=>{var a,l;if(this.queryCache.findAll(n).forEach(u=>{u.invalidate()}),n.refetchType==="none")return Promise.resolve();const c={...n,type:(a=(l=n.refetchType)!=null?l:n.type)!=null?a:"active"};return this.refetchQueries(c,i)})}refetchQueries(e,s,r){const[n,i]=z(e,s,r),a=P.batch(()=>this.queryCache.findAll(n).filter(c=>!c.isDisabled()).map(c=>{var u;return c.fetch(void 0,{...i,cancelRefetch:(u=i==null?void 0:i.cancelRefetch)!=null?u:!0,meta:{refetchPage:n.refetchPage}})}));let l=Promise.all(a).then(E);return i!=null&&i.throwOnError||(l=l.catch(E)),l}fetchQuery(e,s,r){const n=oe(e,s,r),i=this.defaultQueryOptions(n);typeof i.retry>"u"&&(i.retry=!1);const a=this.queryCache.build(this,i);return a.isStaleByTime(i.staleTime)?a.fetch(i):Promise.resolve(a.state.data)}prefetchQuery(e,s,r){return this.fetchQuery(e,s,r).then(E).catch(E)}fetchInfiniteQuery(e,s,r){const n=oe(e,s,r);return n.behavior=bs(),this.fetchQuery(n)}prefetchInfiniteQuery(e,s,r){return this.fetchInfiniteQuery(e,s,r).then(E).catch(E)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,s){const r=this.queryDefaults.find(n=>W(e)===W(n.queryKey));r?r.defaultOptions=s:this.queryDefaults.push({queryKey:e,defaultOptions:s})}getQueryDefaults(e){if(!e)return;const s=this.queryDefaults.find(r=>pe(e,r.queryKey));return s==null?void 0:s.defaultOptions}setMutationDefaults(e,s){const r=this.mutationDefaults.find(n=>W(e)===W(n.mutationKey));r?r.defaultOptions=s:this.mutationDefaults.push({mutationKey:e,defaultOptions:s})}getMutationDefaults(e){if(!e)return;const s=this.mutationDefaults.find(r=>pe(e,r.mutationKey));return s==null?void 0:s.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const s={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!s.queryHash&&s.queryKey&&(s.queryHash=Te(s.queryKey,s)),typeof s.refetchOnReconnect>"u"&&(s.refetchOnReconnect=s.networkMode!=="always"),typeof s.useErrorBoundary>"u"&&(s.useErrorBoundary=!!s.suspense),s}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class ws extends se{constructor(e,s){super(),this.client=e,this.options=s,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(s)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),nt(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ie(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ie(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,s){const r=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),me(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const i=this.hasListeners();i&&it(this.currentQuery,n,this.options,r)&&this.executeFetch(),this.updateResult(s),i&&(this.currentQuery!==n||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const a=this.computeRefetchInterval();i&&(this.currentQuery!==n||this.options.enabled!==r.enabled||a!==this.currentRefetchInterval)&&this.updateRefetchInterval(a)}getOptimisticResult(e){const s=this.client.getQueryCache().build(this.client,e),r=this.createResult(s,e);return js(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const s={};return Object.keys(e).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),s}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...s}={}){return this.fetch({...s,meta:{refetchPage:e}})}fetchOptimistic(e){const s=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,s);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,s))}fetch(e){var s;return this.executeFetch({...e,cancelRefetch:(s=e.cancelRefetch)!=null?s:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let s=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(E)),s}updateStaleTimeout(){if(this.clearStaleTimeout(),ae||this.currentResult.isStale||!Ae(this.options.staleTime))return;const s=Mt(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},s)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(ae||this.options.enabled===!1||!Ae(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||ye.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,s){const r=this.currentQuery,n=this.options,i=this.currentResult,a=this.currentResultState,l=this.currentResultOptions,c=e!==r,u=c?e.state:this.currentQueryInitialState,d=c?this.currentResult:this.previousQueryResult,{state:h}=e;let{dataUpdatedAt:f,error:p,errorUpdatedAt:g,fetchStatus:b,status:m}=h,C=!1,x=!1,j;if(s._optimisticResults){const S=this.hasListeners(),F=!S&&nt(e,s),A=S&&it(e,r,s,n);(F||A)&&(b=Se(e.options.networkMode)?"fetching":"paused",f||(m="loading")),s._optimisticResults==="isRestoring"&&(b="idle")}if(s.keepPreviousData&&!h.dataUpdatedAt&&d!=null&&d.isSuccess&&m!=="error")j=d.data,f=d.dataUpdatedAt,m=d.status,C=!0;else if(s.select&&typeof h.data<"u")if(i&&h.data===(a==null?void 0:a.data)&&s.select===this.selectFn)j=this.selectResult;else try{this.selectFn=s.select,j=s.select(h.data),j=De(i==null?void 0:i.data,j,s),this.selectResult=j,this.selectError=null}catch(S){this.selectError=S}else j=h.data;if(typeof s.placeholderData<"u"&&typeof j>"u"&&m==="loading"){let S;if(i!=null&&i.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData))S=i.data;else if(S=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof S<"u")try{S=s.select(S),this.selectError=null}catch(F){this.selectError=F}typeof S<"u"&&(m="success",j=De(i==null?void 0:i.data,S,s),x=!0)}this.selectError&&(p=this.selectError,j=this.selectResult,g=Date.now(),m="error");const M=b==="fetching",O=m==="loading",v=m==="error";return{status:m,fetchStatus:b,isLoading:O,isSuccess:m==="success",isError:v,isInitialLoading:O&&M,data:j,dataUpdatedAt:f,error:p,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:M,isRefetching:M&&!O,isLoadingError:v&&h.dataUpdatedAt===0,isPaused:b==="paused",isPlaceholderData:x,isPreviousData:C,isRefetchError:v&&h.dataUpdatedAt!==0,isStale:Ue(e,s),refetch:this.refetch,remove:this.remove}}updateResult(e){const s=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,me(r,s))return;this.currentResult=r;const n={cache:!0},i=()=>{if(!s)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!this.trackedProps.size)return!0;const c=new Set(l??this.trackedProps);return this.options.useErrorBoundary&&c.add("error"),Object.keys(this.currentResult).some(u=>{const d=u;return this.currentResult[d]!==s[d]&&c.has(d)})};(e==null?void 0:e.listeners)!==!1&&i()&&(n.listeners=!0),this.notify({...n,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const s=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const s={};e.type==="success"?s.onSuccess=!e.manual:e.type==="error"&&!he(e.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()}notify(e){P.batch(()=>{if(e.onSuccess){var s,r,n,i;(s=(r=this.options).onSuccess)==null||s.call(r,this.currentResult.data),(n=(i=this.options).onSettled)==null||n.call(i,this.currentResult.data,null)}else if(e.onError){var a,l,c,u;(a=(l=this.options).onError)==null||a.call(l,this.currentResult.error),(c=(u=this.options).onSettled)==null||c.call(u,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:d})=>{d(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Rs(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function nt(t,e){return Rs(t,e)||t.state.dataUpdatedAt>0&&Ie(t,e,e.refetchOnMount)}function Ie(t,e,s){if(e.enabled!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&Ue(t,e)}return!1}function it(t,e,s,r){return s.enabled!==!1&&(t!==e||r.enabled===!1)&&(!s.suspense||t.state.status!=="error")&&Ue(t,s)}function Ue(t,e){return t.isStaleByTime(e.staleTime)}function js(t,e,s){return s.keepPreviousData?!1:s.placeholderData!==void 0?e.isPlaceholderData:!me(t.getCurrentResult(),e)}class Ms extends se{constructor(e,s){super(),this.client=e,this.setOptions(s),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var s;const r=this.options;this.options=this.client.defaultMutationOptions(e),me(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(s=this.currentMutation)==null||s.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const s={listeners:!0};e.type==="success"?s.onSuccess=!0:e.type==="error"&&(s.onError=!0),this.notify(s)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:It(),s={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=s}notify(e){P.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var s,r,n,i;(s=(r=this.mutateOptions).onSuccess)==null||s.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(n=(i=this.mutateOptions).onSettled)==null||n.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var a,l,c,u;(a=(l=this.mutateOptions).onError)==null||a.call(l,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(c=(u=this.mutateOptions).onSettled)==null||c.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:d})=>{d(this.currentResult)})})}}var qt={exports:{}},Nt={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y=y;function Os(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ps=typeof Object.is=="function"?Object.is:Os,Fs=Y.useState,ks=Y.useEffect,As=Y.useLayoutEffect,Es=Y.useDebugValue;function Ds(t,e){var s=e(),r=Fs({inst:{value:s,getSnapshot:e}}),n=r[0].inst,i=r[1];return As(function(){n.value=s,n.getSnapshot=e,Me(n)&&i({inst:n})},[t,s,e]),ks(function(){return Me(n)&&i({inst:n}),t(function(){Me(n)&&i({inst:n})})},[t]),Es(s),s}function Me(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!Ps(t,s)}catch{return!0}}function Is(t,e){return e()}var Qs=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Is:Ds;Nt.useSyncExternalStore=Y.useSyncExternalStore!==void 0?Y.useSyncExternalStore:Qs;qt.exports=Nt;var qs=qt.exports;const $t=qs.useSyncExternalStore,ot=y.createContext(void 0),Tt=y.createContext(!1);function Lt(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=ot),window.ReactQueryClientContext):ot)}const re=({context:t}={})=>{const e=y.useContext(Lt(t,y.useContext(Tt)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Ns=({client:t,children:e,context:s,contextSharing:r=!1})=>{y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const n=Lt(s,r);return y.createElement(Tt.Provider,{value:!s&&r},y.createElement(n.Provider,{value:t},e))},Ut=y.createContext(!1),$s=()=>y.useContext(Ut);Ut.Provider;function Ts(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const Ls=y.createContext(Ts()),Us=()=>y.useContext(Ls);function Kt(t,e){return typeof t=="function"?t(...e):!!t}const Ks=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},_s=t=>{y.useEffect(()=>{t.clearReset()},[t])},Bs=({result:t,errorResetBoundary:e,useErrorBoundary:s,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&Kt(s,[t.error,r]),zs=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Ws=(t,e)=>t.isLoading&&t.isFetching&&!e,Gs=(t,e,s)=>(t==null?void 0:t.suspense)&&Ws(e,s),Hs=(t,e,s)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{s.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function Vs(t,e){const s=re({context:t.context}),r=$s(),n=Us(),i=s.defaultQueryOptions(t);i._optimisticResults=r?"isRestoring":"optimistic",i.onError&&(i.onError=P.batchCalls(i.onError)),i.onSuccess&&(i.onSuccess=P.batchCalls(i.onSuccess)),i.onSettled&&(i.onSettled=P.batchCalls(i.onSettled)),zs(i),Ks(i,n),_s(n);const[a]=y.useState(()=>new e(s,i)),l=a.getOptimisticResult(i);if($t(y.useCallback(c=>{const u=r?()=>{}:a.subscribe(P.batchCalls(c));return a.updateResult(),u},[a,r]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),y.useEffect(()=>{a.setOptions(i,{listeners:!1})},[i,a]),Gs(i,l,r))throw Hs(i,a,n);if(Bs({result:l,errorResetBoundary:n,useErrorBoundary:i.useErrorBoundary,query:a.getCurrentQuery()}))throw l.error;return i.notifyOnChangeProps?l:a.trackResult(l)}function Ke(t,e,s){const r=oe(t,e,s);return Vs(r,ws)}function ee(t,e,s){const r=ds(t,e,s),n=re({context:r.context}),[i]=y.useState(()=>new Ms(n,r));y.useEffect(()=>{i.setOptions(r)},[i,r]);const a=$t(y.useCallback(c=>i.subscribe(P.batchCalls(c)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=y.useCallback((c,u)=>{i.mutate(c,u).catch(Js)},[i]);if(a.error&&Kt(i.options.useErrorBoundary,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}function Js(){}const Zs=function(){return null};function Xs(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Ys(t){return parseFloat(t)}function er(t){return $("MuiAlert",t)}const tr=N("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),at=tr,sr=ce(o.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),rr=ce(o.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),nr=ce(o.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),ir=ce(o.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),or=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],ar=t=>{const{variant:e,color:s,severity:r,classes:n}=t,i={root:["root",`${e}${J(s||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return U(i,er,n)},lr=k(ue,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,e[s.variant],e[`${s.variant}${J(s.color||s.severity)}`]]}})(({theme:t,ownerState:e})=>{const s=t.palette.mode==="light"?He:Ve,r=t.palette.mode==="light"?Ve:He,n=e.color||e.severity;return R({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},n&&e.variant==="standard"&&{color:t.vars?t.vars.palette.Alert[`${n}Color`]:s(t.palette[n].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${n}StandardBg`]:r(t.palette[n].light,.9),[`& .${at.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}},n&&e.variant==="outlined"&&{color:t.vars?t.vars.palette.Alert[`${n}Color`]:s(t.palette[n].light,.6),border:`1px solid ${(t.vars||t).palette[n].light}`,[`& .${at.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}},n&&e.variant==="filled"&&R({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)}))}),cr=k("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),ur=k("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),lt=k("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),ct={success:o.jsx(sr,{fontSize:"inherit"}),warning:o.jsx(rr,{fontSize:"inherit"}),error:o.jsx(nr,{fontSize:"inherit"}),info:o.jsx(ir,{fontSize:"inherit"})},dr=y.forwardRef(function(e,s){var r,n,i,a,l,c;const u=T({props:e,name:"MuiAlert"}),{action:d,children:h,className:f,closeText:p="Close",color:g,components:b={},componentsProps:m={},icon:C,iconMapping:x=ct,onClose:j,role:M="alert",severity:O="success",slotProps:v={},slots:w={},variant:S="standard"}=u,F=L(u,or),A=R({},u,{color:g,severity:O,variant:S}),K=ar(A),Ge=(r=(n=w.closeButton)!=null?n:b.CloseButton)!=null?r:Ne,je=(i=(a=w.closeIcon)!=null?a:b.CloseIcon)!=null?i:Yt,Zt=(l=v.closeButton)!=null?l:m.closeButton,Xt=(c=v.closeIcon)!=null?c:m.closeIcon;return o.jsxs(lr,R({role:M,elevation:0,ownerState:A,className:Q(K.root,f),ref:s},F,{children:[C!==!1?o.jsx(cr,{ownerState:A,className:K.icon,children:C||x[O]||ct[O]}):null,o.jsx(ur,{ownerState:A,className:K.message,children:h}),d!=null?o.jsx(lt,{ownerState:A,className:K.action,children:d}):null,d==null&&j?o.jsx(lt,{ownerState:A,className:K.action,children:o.jsx(Ge,R({size:"small","aria-label":p,title:p,color:"inherit",onClick:j},Zt,{children:o.jsx(je,R({fontSize:"small"},Xt))}))}):null]}))}),hr=dr,fr=ce(o.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function pr(t){return $("MuiAvatar",t)}N("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const mr=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],yr=t=>{const{classes:e,variant:s,colorDefault:r}=t;return U({root:["root",s,r&&"colorDefault"],img:["img"],fallback:["fallback"]},pr,e)},vr=k("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,e[s.variant],s.colorDefault&&e.colorDefault]}})(({theme:t,ownerState:e})=>R({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.variant==="square"&&{borderRadius:0},e.colorDefault&&R({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}))),gr=k("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),xr=k(fr,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function br({crossOrigin:t,referrerPolicy:e,src:s,srcSet:r}){const[n,i]=y.useState(!1);return y.useEffect(()=>{if(!s&&!r)return;i(!1);let a=!0;const l=new Image;return l.onload=()=>{a&&i("loaded")},l.onerror=()=>{a&&i("error")},l.crossOrigin=t,l.referrerPolicy=e,l.src=s,r&&(l.srcset=r),()=>{a=!1}},[t,e,s,r]),n}const Cr=y.forwardRef(function(e,s){const r=T({props:e,name:"MuiAvatar"}),{alt:n,children:i,className:a,component:l="div",imgProps:c,sizes:u,src:d,srcSet:h,variant:f="circular"}=r,p=L(r,mr);let g=null;const b=br(R({},c,{src:d,srcSet:h})),m=d||h,C=m&&b!=="error",x=R({},r,{colorDefault:!C,component:l,variant:f}),j=yr(x);return C?g=o.jsx(gr,R({alt:n,src:d,srcSet:h,sizes:u,ownerState:x,className:j.img},c)):i!=null?g=i:m&&n?g=n[0]:g=o.jsx(xr,{ownerState:x,className:j.fallback}),o.jsx(vr,R({as:l,ownerState:x,className:Q(j.root,a),ref:s},p,{children:g}))}),Sr=Cr;function wr(t){return $("MuiCard",t)}N("MuiCard",["root"]);const Rr=["className","raised"],jr=t=>{const{classes:e}=t;return U({root:["root"]},wr,e)},Mr=k(ue,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),Or=y.forwardRef(function(e,s){const r=T({props:e,name:"MuiCard"}),{className:n,raised:i=!1}=r,a=L(r,Rr),l=R({},r,{raised:i}),c=jr(l);return o.jsx(Mr,R({className:Q(c.root,n),elevation:i?8:void 0,ref:s,ownerState:l},a))}),we=Or;function Pr(t){return $("MuiCardActionArea",t)}const Fr=N("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Oe=Fr,kr=["children","className","focusVisibleClassName"],Ar=t=>{const{classes:e}=t;return U({root:["root"],focusHighlight:["focusHighlight"]},Pr,e)},Er=k(es,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${Oe.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${Oe.focusVisible} .${Oe.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}})),Dr=k("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,e)=>e.focusHighlight})(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})})),Ir=y.forwardRef(function(e,s){const r=T({props:e,name:"MuiCardActionArea"}),{children:n,className:i,focusVisibleClassName:a}=r,l=L(r,kr),c=r,u=Ar(c);return o.jsxs(Er,R({className:Q(u.root,i),focusVisibleClassName:Q(a,u.focusVisible),ref:s,ownerState:c},l,{children:[n,o.jsx(Dr,{className:u.focusHighlight,ownerState:c})]}))}),_t=Ir;function Qr(t){return $("MuiCardActions",t)}N("MuiCardActions",["root","spacing"]);const qr=["disableSpacing","className"],Nr=t=>{const{classes:e,disableSpacing:s}=t;return U({root:["root",!s&&"spacing"]},Qr,e)},$r=k("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,!s.disableSpacing&&e.spacing]}})(({ownerState:t})=>R({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),Tr=y.forwardRef(function(e,s){const r=T({props:e,name:"MuiCardActions"}),{disableSpacing:n=!1,className:i}=r,a=L(r,qr),l=R({},r,{disableSpacing:n}),c=Nr(l);return o.jsx($r,R({className:Q(c.root,i),ownerState:l,ref:s},a))}),Lr=Tr;function Ur(t){return $("MuiCardContent",t)}N("MuiCardContent",["root"]);const Kr=["className","component"],_r=t=>{const{classes:e}=t;return U({root:["root"]},Ur,e)},Br=k("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),zr=y.forwardRef(function(e,s){const r=T({props:e,name:"MuiCardContent"}),{className:n,component:i="div"}=r,a=L(r,Kr),l=R({},r,{component:i}),c=_r(l);return o.jsx(Br,R({as:i,className:Q(c.root,n),ownerState:l,ref:s},a))}),Bt=zr;function Wr(t){return $("MuiCardMedia",t)}N("MuiCardMedia",["root","media","img"]);const Gr=["children","className","component","image","src","style"],Hr=t=>{const{classes:e,isMediaComponent:s,isImageComponent:r}=t;return U({root:["root",s&&"media",r&&"img"]},Wr,e)},Vr=k("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t,{isMediaComponent:r,isImageComponent:n}=s;return[e.root,r&&e.media,n&&e.img]}})(({ownerState:t})=>R({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),Jr=["video","audio","picture","iframe","img"],Zr=["picture","img"],Xr=y.forwardRef(function(e,s){const r=T({props:e,name:"MuiCardMedia"}),{children:n,className:i,component:a="div",image:l,src:c,style:u}=r,d=L(r,Gr),h=Jr.indexOf(a)!==-1,f=!h&&l?R({backgroundImage:`url("${l}")`},u):u,p=R({},r,{component:a,isMediaComponent:h,isImageComponent:Zr.indexOf(a)!==-1}),g=Hr(p);return o.jsx(Vr,R({className:Q(g.root,i),as:a,role:!h&&l?"img":void 0,ref:s,style:f,ownerState:p,src:h?l||c:void 0},d,{children:n}))}),Yr=Xr;function en(t){return $("MuiCircularProgress",t)}N("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const tn=["className","color","disableShrink","size","style","thickness","value","variant"];let Re=t=>t,ut,dt,ht,ft;const B=44,sn=xe(ut||(ut=Re`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),rn=xe(dt||(dt=Re`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),nn=t=>{const{classes:e,variant:s,color:r,disableShrink:n}=t,i={root:["root",s,`color${J(r)}`],svg:["svg"],circle:["circle",`circle${J(s)}`,n&&"circleDisableShrink"]};return U(i,en,e)},on=k("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,e[s.variant],e[`color${J(s.color)}`]]}})(({ownerState:t,theme:e})=>R({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&fe(ht||(ht=Re`
      animation: ${0} 1.4s linear infinite;
    `),sn)),an=k("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),ln=k("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.circle,e[`circle${J(s.variant)}`],s.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>R({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&fe(ft||(ft=Re`
      animation: ${0} 1.4s ease-in-out infinite;
    `),rn)),cn=y.forwardRef(function(e,s){const r=T({props:e,name:"MuiCircularProgress"}),{className:n,color:i="primary",disableShrink:a=!1,size:l=40,style:c,thickness:u=3.6,value:d=0,variant:h="indeterminate"}=r,f=L(r,tn),p=R({},r,{color:i,disableShrink:a,size:l,thickness:u,value:d,variant:h}),g=nn(p),b={},m={},C={};if(h==="determinate"){const x=2*Math.PI*((B-u)/2);b.strokeDasharray=x.toFixed(3),C["aria-valuenow"]=Math.round(d),b.strokeDashoffset=`${((100-d)/100*x).toFixed(3)}px`,m.transform="rotate(-90deg)"}return o.jsx(on,R({className:Q(g.root,n),style:R({width:l,height:l},m,c),ownerState:p,ref:s,role:"progressbar"},C,f,{children:o.jsx(an,{className:g.svg,ownerState:p,viewBox:`${B/2} ${B/2} ${B} ${B}`,children:o.jsx(ln,{className:g.circle,style:b,ownerState:p,cx:B,cy:B,r:(B-u)/2,fill:"none",strokeWidth:u})})}))}),_e=cn,un=y.createContext(),pt=un;function dn(t){return $("MuiGrid",t)}const hn=[0,1,2,3,4,5,6,7,8,9,10],fn=["column-reverse","column","row-reverse","row"],pn=["nowrap","wrap-reverse","wrap"],ie=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],mn=N("MuiGrid",["root","container","item","zeroMinWidth",...hn.map(t=>`spacing-xs-${t}`),...fn.map(t=>`direction-xs-${t}`),...pn.map(t=>`wrap-xs-${t}`),...ie.map(t=>`grid-xs-${t}`),...ie.map(t=>`grid-sm-${t}`),...ie.map(t=>`grid-md-${t}`),...ie.map(t=>`grid-lg-${t}`),...ie.map(t=>`grid-xl-${t}`)]),le=mn,yn=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function V(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function vn({theme:t,ownerState:e}){let s;return t.breakpoints.keys.reduce((r,n)=>{let i={};if(e[n]&&(s=e[n]),!s)return r;if(s===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(s==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=be({values:e.columns,breakpoints:t.breakpoints.values}),l=typeof a=="object"?a[n]:a;if(l==null)return r;const c=`${Math.round(s/l*1e8)/1e6}%`;let u={};if(e.container&&e.item&&e.columnSpacing!==0){const d=t.spacing(e.columnSpacing);if(d!=="0px"){const h=`calc(${c} + ${V(d)})`;u={flexBasis:h,maxWidth:h}}}i=R({flexBasis:c,flexGrow:0,maxWidth:c},u)}return t.breakpoints.values[n]===0?Object.assign(r,i):r[t.breakpoints.up(n)]=i,r},{})}function gn({theme:t,ownerState:e}){const s=be({values:e.direction,breakpoints:t.breakpoints.values});return $e({theme:t},s,r=>{const n={flexDirection:r};return r.indexOf("column")===0&&(n[`& > .${le.item}`]={maxWidth:"none"}),n})}function zt({breakpoints:t,values:e}){let s="";Object.keys(e).forEach(n=>{s===""&&e[n]!==0&&(s=n)});const r=Object.keys(t).sort((n,i)=>t[n]-t[i]);return r.slice(0,r.indexOf(s))}function xn({theme:t,ownerState:e}){const{container:s,rowSpacing:r}=e;let n={};if(s&&r!==0){const i=be({values:r,breakpoints:t.breakpoints.values});let a;typeof i=="object"&&(a=zt({breakpoints:t.breakpoints.values,values:i})),n=$e({theme:t},i,(l,c)=>{var u;const d=t.spacing(l);return d!=="0px"?{marginTop:`-${V(d)}`,[`& > .${le.item}`]:{paddingTop:V(d)}}:(u=a)!=null&&u.includes(c)?{}:{marginTop:0,[`& > .${le.item}`]:{paddingTop:0}}})}return n}function bn({theme:t,ownerState:e}){const{container:s,columnSpacing:r}=e;let n={};if(s&&r!==0){const i=be({values:r,breakpoints:t.breakpoints.values});let a;typeof i=="object"&&(a=zt({breakpoints:t.breakpoints.values,values:i})),n=$e({theme:t},i,(l,c)=>{var u;const d=t.spacing(l);return d!=="0px"?{width:`calc(100% + ${V(d)})`,marginLeft:`-${V(d)}`,[`& > .${le.item}`]:{paddingLeft:V(d)}}:(u=a)!=null&&u.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${le.item}`]:{paddingLeft:0}}})}return n}function Cn(t,e,s={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[s[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(n=>{const i=t[n];Number(i)>0&&r.push(s[`spacing-${n}-${String(i)}`])}),r}const Sn=k("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t,{container:r,direction:n,item:i,spacing:a,wrap:l,zeroMinWidth:c,breakpoints:u}=s;let d=[];r&&(d=Cn(a,u,e));const h=[];return u.forEach(f=>{const p=s[f];p&&h.push(e[`grid-${f}-${String(p)}`])}),[e.root,r&&e.container,i&&e.item,c&&e.zeroMinWidth,...d,n!=="row"&&e[`direction-xs-${String(n)}`],l!=="wrap"&&e[`wrap-xs-${String(l)}`],...h]}})(({ownerState:t})=>R({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),gn,xn,bn,vn);function wn(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const s=[];return e.forEach(r=>{const n=t[r];if(Number(n)>0){const i=`spacing-${r}-${String(n)}`;s.push(i)}}),s}const Rn=t=>{const{classes:e,container:s,direction:r,item:n,spacing:i,wrap:a,zeroMinWidth:l,breakpoints:c}=t;let u=[];s&&(u=wn(i,c));const d=[];c.forEach(f=>{const p=t[f];p&&d.push(`grid-${f}-${String(p)}`)});const h={root:["root",s&&"container",n&&"item",l&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...d]};return U(h,dn,e)},jn=y.forwardRef(function(e,s){const r=T({props:e,name:"MuiGrid"}),{breakpoints:n}=te(),i=ts(r),{className:a,columns:l,columnSpacing:c,component:u="div",container:d=!1,direction:h="row",item:f=!1,rowSpacing:p,spacing:g=0,wrap:b="wrap",zeroMinWidth:m=!1}=i,C=L(i,yn),x=p||g,j=c||g,M=y.useContext(pt),O=d?l||12:M,v={},w=R({},C);n.keys.forEach(A=>{C[A]!=null&&(v[A]=C[A],delete w[A])});const S=R({},i,{columns:O,container:d,direction:h,item:f,rowSpacing:x,columnSpacing:j,wrap:b,zeroMinWidth:m,spacing:g},v,{breakpoints:n.keys}),F=Rn(S);return o.jsx(pt.Provider,{value:O,children:o.jsx(Sn,R({ownerState:S,className:Q(F.root,a),as:u,ref:s},w))})}),Pe=jn;function Mn(t){return $("MuiSkeleton",t)}N("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const On=["animation","className","component","height","style","variant","width"];let ge=t=>t,mt,yt,vt,gt;const Pn=t=>{const{classes:e,variant:s,animation:r,hasChildren:n,width:i,height:a}=t;return U({root:["root",s,r,n&&"withChildren",n&&!i&&"fitContent",n&&!a&&"heightAuto"]},Mn,e)},Fn=xe(mt||(mt=ge`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),kn=xe(yt||(yt=ge`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),An=k("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,e[s.variant],s.animation!==!1&&e[s.animation],s.hasChildren&&e.withChildren,s.hasChildren&&!s.width&&e.fitContent,s.hasChildren&&!s.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const s=Xs(t.shape.borderRadius)||"px",r=Ys(t.shape.borderRadius);return R({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:bt(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${s}/${Math.round(r/.6*10)/10}${s}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&fe(vt||(vt=ge`
      animation: ${0} 1.5s ease-in-out 0.5s infinite;
    `),Fn),({ownerState:t,theme:e})=>t.animation==="wave"&&fe(gt||(gt=ge`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),kn,(e.vars||e).palette.action.hover)),En=y.forwardRef(function(e,s){const r=T({props:e,name:"MuiSkeleton"}),{animation:n="pulse",className:i,component:a="span",height:l,style:c,variant:u="text",width:d}=r,h=L(r,On),f=R({},r,{animation:n,component:a,variant:u,hasChildren:!!h.children}),p=Pn(f);return o.jsx(An,R({as:a,ref:s,className:Q(p.root,i),ownerState:f},h,{style:R({width:d,height:l},c)}))}),Fe=En;var Be={},Dn=St;Object.defineProperty(Be,"__esModule",{value:!0});var Wt=Be.default=void 0,In=Dn(Ct()),Qn=o,qn=(0,In.default)((0,Qn.jsx)("path",{d:"m18.85 10.39 1.06-1.06c.78-.78.78-2.05 0-2.83L18.5 5.09c-.78-.78-2.05-.78-2.83 0l-1.06 1.06 4.24 4.24zm-5.66-2.83L4 16.76V21h4.24l9.19-9.19-4.24-4.25zM19 17.5c0 2.19-2.54 3.5-5 3.5-.55 0-1-.45-1-1s.45-1 1-1c1.54 0 3-.73 3-1.5 0-.47-.48-.87-1.23-1.2l1.48-1.48c1.07.63 1.75 1.47 1.75 2.68zM4.58 13.35C3.61 12.79 3 12.06 3 11c0-1.8 1.89-2.63 3.56-3.36C7.59 7.18 9 6.56 9 6c0-.41-.78-1-2-1-1.26 0-1.8.61-1.83.64-.35.41-.98.46-1.4.12-.41-.34-.49-.95-.15-1.38C3.73 4.24 4.76 3 7 3s4 1.32 4 3c0 1.87-1.93 2.72-3.64 3.47C6.42 9.88 5 10.5 5 11c0 .31.43.6 1.07.86l-1.49 1.49z"}),"Draw");Wt=Be.default=qn;function Qe({spin:t,text:e}){return t?o.jsx(_e,{size:"1.5rem"}):e}function Nn({onLogout:t,onGetStarted:e,isLoggingOut:s,user:r}){const n=te(),i=wt("(max-width: 320px)");let a=o.jsx(o.Fragment,{});return r?a=o.jsxs(o.Fragment,{children:[o.jsx(Sr,{alt:r.name,sx:{mr:2,backgroundColor:n.palette.secondary.main,display:["none","inherit"]},children:[...r.name][0]}),o.jsxs(I,{sx:{display:["none","inherit"]},children:["Welcome, ",r.name||r.email]}),o.jsx(q,{onClick:t,color:"secondary",sx:{ml:4},children:o.jsx(Qe,{spin:s,text:"Logout"})})]}):a=o.jsx(o.Fragment,{children:o.jsx(q,{variant:"contained",onClick:e,sx:{display:i?"none":void 0},children:"Get Started"})}),o.jsx(Rt,{theme:ss,children:o.jsx(Z,{sx:{flexGrow:1,borderBottom:`1px solid ${n.palette.background.default}`},children:o.jsx(rs,{position:"static",sx:{backgroundColor:bt(n.palette.background.default,.3),backdropFilter:"blur(3px)"},children:o.jsx(Ce,{maxWidth:"lg",disableGutters:!0,children:o.jsxs(ns,{children:[o.jsx(Ne,{size:"large",edge:"start",color:"inherit","aria-label":"menu",alt:"writing pencil",sx:{display:["none","block"]},children:o.jsx(Wt,{})}),o.jsxs(Z,{sx:{flexGrow:1},children:[o.jsx(I,{variant:"h6",component:"span",fontWeight:"bold",children:"Note"}),o.jsx(I,{variant:"h6",component:"span",fontWeight:"light",children:"Scribbler"})]}),a]})})})})})}const $n="/assets/aurora-gradient-2x-71ce0c50.png",Tn="/assets/aurora-gradient-small-50b52e20.png",ze=y.createContext(null),Gt=y.createContext(null);function Ln(t,e){const s=new Map(t);switch(e.type){case"set":return s.set(e.id,{message:e.message,color:e.color||"blue"});case"deleted":return s.delete(e.id),s;default:throw Error("Unrecognized action type: "+e.type)}}function Un(){y.useContext(ze)}function Kn(t){let e;for(;;)if(e=(Math.random()*1e3).toFixed(0),!t.has(e))return e}async function xt(t,e,s){if(!t.resource)throw Error("No resource specified for request.");const r=t.resource,n=Kn(e),i=t.method||"GET",a=`(${n}) `+i+" > "+r.replace("https://ontime-vrjj.onrender.com/",""),l=4e3,c=new AbortController;function u(f,p){s({type:"set",id:n,message:f,color:p}),setTimeout(()=>{s({type:"deleted",id:n})},5e3)}const d=setTimeout(()=>{u(a+" timed out","purple"),c.abort("Fetch timed out. "+a)},t.timeout||l);t.signal&&t.signal.addEventListener("abort",()=>{u(a+" cancelled","red"),c.abort(t.signal.reason),clearTimeout(d)},{signal:c.signal}),s({type:"set",id:n,message:a});let h;try{h=await fetch(r,{...t,signal:c.signal}).then(f=>(u(a+" OK","green"),f))}finally{clearTimeout(d)}return h}function _n({children:t}){const[e,s]=y.useReducer(Ln,new Map);return o.jsx(ze.Provider,{value:e,children:o.jsx(Gt.Provider,{value:s,children:t})})}function ne(){const t=y.useContext(ze),e=y.useContext(Gt);return s=>r=>typeof s=="function"?xt(s(r),t,e).then(n=>n.json()):xt({...s,signal:r.signal},t,e).then(n=>n.json())}const ke=console.log.bind(console);function Bn({email:t,password:e}){return{resource:"https://ontime-vrjj.onrender.com/login",method:"POST",body:JSON.stringify({email:t,password:e}),headers:{"Content-Type":"application/json; charset=utf-8"},credentials:"include"}}function zn({email:t,password:e,name:s}){return{resource:"https://ontime-vrjj.onrender.com/register",method:"POST",body:JSON.stringify({email:t,password:e,name:s}),headers:{"Content-Type":"application/json; charset=utf-8"},credentials:"include"}}function Wn({name:t,setName:e,sending:s,invalid:r}){const n=y.useRef(null);return y.useEffect(()=>{n.current.focus()},[]),o.jsx(X,{inputRef:n,label:"display name",variant:"standard",disabled:s,error:r,defaultValue:t,onChange:i=>{e(i.target.value)}})}const Gn=function({onIdentify:t,signInRef:e}){const s=ne(),[r,n]=y.useState("Demo Account"),[i,a]=y.useState("123"),[l,c]=y.useState(""),[u,d]=y.useState(!1),[h,f]=y.useState(!1),p=te(),g=ee({mutationFn:s(Bn),onSuccess:(x,j,M)=>{if(x.error){ke(" Server reported error: ",x.error),f(!0);return}ke(" Mutation succeeded with data: ",x),t(x)},onError:(x,j,M)=>{ke(" Mutation failed with error: ",x)},retry:2}),b=ee({mutationFn:s(zn),onSuccess:x=>{if(x.error){if(console.log("Error in server response: ",x.error),x.error==="email already in use.")f(!0);else throw Error("Server unavailable");return}console.log("registration mutation succeeded, data=",x),t(x)},onError:x=>{console.log("registration mutation failed, error",x)},retry:2}),m=g.status==="loading"||b.status==="loading";let C=o.jsx(o.Fragment,{});return u?C=o.jsxs(G,{spacing:4,pt:4,children:[o.jsx(q,{type:"submit",variant:"contained",disabled:m,color:"secondary",onClick:()=>b.mutate({email:r,password:i,name:l}),children:o.jsx(Qe,{spin:m,text:"Register Now"})}),b.status==="error"&&"Server unavailable. Try again?",o.jsx(q,{variant:"text",disabled:m,color:"primary",onClick:()=>{d(!1),f(!1)},children:"Go Back"})]}):C=o.jsxs(G,{spacing:2,children:[o.jsx(q,{type:"submit",variant:"contained",disabled:m,onClick:()=>g.mutate({email:r,password:i}),children:o.jsx(Qe,{spin:m,text:"Login"})}),g.status==="error"&&"Server unavailable. Try again?",o.jsx(Je,{sx:{mb:3,mt:3,color:p.palette.divider},children:"OR"}),o.jsx(q,{variant:"contained",disabled:m,color:"secondary",onClick:()=>{d(!0),f(!1)},children:"Register"})]}),o.jsx(ue,{elevation:1,sx:{py:6,px:2,mb:8,flexGrow:1,minWidth:[240,300],maxWidth:450,ml:"auto",mr:["auto",0]},children:o.jsx("form",{onSubmit:x=>x.preventDefault(),children:o.jsxs(Ce,{children:[o.jsx(I,{variant:"h4",component:"h2",sx:{mb:1},children:u?"Register":"Sign In"}),o.jsx(Je,{sx:{mb:6}}),o.jsxs(G,{spacing:6,children:[o.jsx(X,{inputRef:e,label:"email",helperText:h&&u?"Already in use.":" ",variant:"standard",disabled:m,error:h,defaultValue:r,onChange:x=>{n(x.target.value),f(!1)}}),o.jsx(X,{label:"password",variant:"standard",type:"password",helperText:h&&!u?"Invalid email or password.":" ",disabled:m,error:h,defaultValue:i,onChange:x=>{a(x.target.value),f(!1)}}),u&&o.jsx(Wn,{name:l,setName:c,sending:m,invalid:h}),C]})]})})})};var We={},Hn=St;Object.defineProperty(We,"__esModule",{value:!0});var Ht=We.default=void 0,Vn=Hn(Ct()),Jn=o,Zn=(0,Vn.default)((0,Jn.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutline");Ht=We.default=Zn;const Xn="/assets/notebook-unsplash-8fbbce77.jpg";function Vt({show:t,onRetry:e,message:s}){if(t)return o.jsx(Ce,{maxWidth:"sm",children:o.jsx(hr,{severity:"error",sx:{mt:4},action:o.jsx(q,{onClick:e,sx:{ml:2,mt:-.5},children:"Retry"}),children:o.jsx("span",{children:s||"Failed to load. Please try again later."})})})}function H(t,e,s=1e3){return H.map||(H.map=new Map),(...r)=>{clearTimeout(H.map.get(t));const n=setTimeout(()=>{e.apply(this,r),H.map.delete(t)},s);H.map.set(t,n)}}const D=console.log.bind(console);function Yn(t){return{resource:`https://ontime-vrjj.onrender.com/users/${t}/notebook`,credentials:"include"}}function ei(t){return{resource:`https://ontime-vrjj.onrender.com/notes/${t}`,credentials:"include"}}function ti(t){return{resource:`https://ontime-vrjj.onrender.com/notes/${t.note_id}`,method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=utf-8"},credentials:"include"}}function si({key:t,title:e,content:s,uid:r}){return{resource:`https://ontime-vrjj.onrender.com/users/${r}/notebook`,method:"POST",body:JSON.stringify({key:t,title:e,content:s}),headers:{"Content-Type":"application/json; charset=utf-8"},credentials:"include"}}function ri(t){return{resource:`https://ontime-vrjj.onrender.com/notes/${t}`,method:"DELETE",credentials:"include"}}function ni({uid:t,name:e,email:s}){const r=re(),n=ne(),[i,a]=y.useState("note list"),[l,c]=y.useState(""),[u,d]=y.useState(""),h=Ke({queryKey:["note list",t],queryFn:n(Yn(t)),staleTime:30*1e3,placeholderData:()=>{if(sessionStorage["noteList-"+t])return JSON.parse(sessionStorage["noteList-"+t])}}),{mutate:f}=ee({mutationFn:n(ri),onSuccess:(b,m)=>{r.setQueryData(["note list",t],C=>C.filter(x=>x.note_id!==m))},onSettled:()=>{r.invalidateQueries({queryKey:["note list",t]})},retry:2}),p=h.data||[];y.useEffect(()=>{h.data&&!h.data.error&&(sessionStorage["noteList-"+t]=JSON.stringify(h.data))},[t,h.data]);let g=o.jsx(o.Fragment,{});switch(i){case"edit note":g=o.jsx(li,{id:l,title:u,onReturn:()=>a("note list")});break;default:g=o.jsx(o.Fragment,{children:p.error?p.error:o.jsx(ii,{uid:t,notes:p,onExpand:b=>{a("edit note"),c(b),d(p.find(m=>m.note_id===b).title)},onDelete:f,onNew:async b=>{if(await r.cancelQueries({queryKey:["note list",t]}),p.some(m=>m.note_id===b.note_id))return D(" Already had note in list.");r.setQueryData(["note list",t],m=>[...m,b])}})})}return o.jsxs(o.Fragment,{children:[o.jsx(jt,{open:h.status==="loading",sx:{zIndex:b=>b.zIndex.drawer+1},children:o.jsx(_e,{})}),o.jsx(Vt,{show:h.status!=="loading"&&!h.data,onRetry:h.refetch}),g]})}function ii({uid:t,notes:e,onExpand:s,onNew:r,onDelete:n}){const i=re(),a=ne(),l=ee({mutationFn:a(u=>(D("check: using idem key: ",u),si({uid:t,key:u,title:"New note",content:""}))),onSuccess:u=>{if(D("Mutation outcome: ",u),!u.error){try{sessionStorage.idempotentKey=crypto.randomUUID()}catch{sessionStorage.idempotentKey=(Math.random()*1e12).toFixed()}r(u)}},retry:2}),c=e.map(u=>{const d=JSON.parse(sessionStorage["note-"+u.note_id]||"{}");return o.jsx(Pe,{item:!0,children:o.jsx(ai,{title:d.title||u.title,summary:d.content?o.jsx("em",{children:"Unsaved draft"}):u.summary,deleting:u.deleting,onExpand:()=>s(u.note_id),onDelete:()=>{D("deleting ",u.note_id),n(u.note_id),i.setQueryData(["note list",t],h=>h.map(f=>f.note_id!==u.note_id?f:{...f,title:"Deleting...",deleting:!0}))},draft:!!sessionStorage["note-"+u.note_id]})},u.note_id)});return c.push(o.jsx(Pe,{item:!0,children:o.jsx(oi,{disabled:l.isLoading,onCreate:()=>{l.mutate(sessionStorage.idempotentKey)}})},"create")),o.jsxs(we,{elevation:0,sx:{mt:6,p:4},children:[o.jsx(I,{variant:"h4",mb:4,children:"My Notebook"}),c.length?o.jsx(Pe,{container:!0,spacing:4,children:c}):o.jsx(o.Fragment,{children:"No notes yet."})]})}function oi({onCreate:t,disabled:e}){const s=te(),r=Jt(),n=e?s.palette.primary.dark:s.palette.primary.main,i=e?.2:1,a={width:"100px",height:"100px",opacity:i},l=e?o.jsx("div",{style:{width:"100px",height:"100px",display:"grid",placeItems:"center"},children:o.jsx(_e,{})}):o.jsx(Ht,{sx:a});return o.jsx(we,{sx:{width:r,height:300,borderLeft:`4px solid ${n}`},elevation:4,children:o.jsxs(_t,{disabled:e,onClick:t,sx:{height:"100%",display:"flex",flexDirection:"column"},children:[l,o.jsx(Bt,{children:o.jsx(I,{variant:"h6",sx:{mb:"1rem",opacity:i},children:e?"Creating...":"New note"})})]})})}function Jt(){return wt("(max-width: 320px)")?176:240}function ai({title:t,summary:e,deleting:s,draft:r,onExpand:n,onDelete:i}){const a=te(),l=Jt();let c=r?a.palette.warning.main:a.palette.primary.main;return s&&(c=a.palette.primary.dark),o.jsxs(we,{sx:{width:l,height:300,borderLeft:`4px solid ${c}`,display:"flex",flexDirection:"column",justifyContent:"space-between",opacity:s?.2:1,transition:"opacity 0.5s ease-out"},elevation:4,children:[o.jsxs(_t,{onClick:n,disabled:s,children:[o.jsx(Yr,{component:"img",height:"100",image:Xn,alt:""}),o.jsxs(Bt,{children:[o.jsx(I,{variant:"h6",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t}),e]})]}),!s&&o.jsxs(Lr,{children:[o.jsx(q,{size:"small",onClick:n,sx:{color:c},children:r?"Unsaved":"Expand"}),o.jsx(Z,{ml:"auto",children:o.jsx(Ne,{"aria-label":"Delete",onClick:i,children:o.jsx(is,{sx:{color:c}})})})]})]})}function li({id:t,title:e,onReturn:s}){const r=sessionStorage["note-"+t]?JSON.parse(sessionStorage["note-"+t]):void 0,n=ne(),i=Ke({queryKey:["note",t],queryFn:n(ei(t)),staleTime:30*1e3,initialData:r,enabled:!r}),a=i.data;let l=o.jsx(o.Fragment,{});return i.status==="loading"&&(l=o.jsxs(G,{spacing:4,children:[o.jsx(X,{disabled:!0,label:"Title",value:e,sx:{width:"100%"}}),o.jsxs("div",{children:[o.jsx(Fe,{variant:"text",width:"70%"}),o.jsx(Fe,{variant:"text",width:"80%"}),o.jsx(Fe,{variant:"text",width:"60%"})]})]})),a&&(l=o.jsx(ci,{id:t,initialTitle:a.title,initialContent:a.content})),a&&a.error&&(l=o.jsxs(o.Fragment,{children:["Permission error: ",a.error]})),o.jsxs(we,{elevation:0,sx:{mt:6,px:2,py:2},children:[o.jsxs(ue,{elevation:1,sx:{py:2,px:2},children:[o.jsx(I,{variant:"h4",mb:4,children:"Edit Note"}),o.jsxs(Z,{minHeight:100,width:"min(90%,80ch)",children:[o.jsx(I,{variant:"body",children:l}),o.jsx(Vt,{show:!a&&i.status!=="loading",onRetry:i.refetch})]})]}),o.jsx(q,{onClick:s,sx:{mt:4},children:"Back to List"})]})}function ci({id:t,initialTitle:e,initialContent:s}){const r=y.useRef(null),n=re(),i=ne(),[a,l]=y.useState(e||""),[c,u]=y.useState(s||""),[d,h]=y.useState(""),[f,p]=y.useState(!!sessionStorage["note-"+t]),[g,b]=y.useState(!1),m=ee({mutationFn:i(ti),onMutate:()=>b(!1),onSuccess:v=>{if(v.error){D(" Failed to save:",v.error),b(!0),n.refetchQueries({queryKey:["heartbeat"]});return}D(" Mutation succeeded: ",v),v.title===a&&v.content===c?(D(" saved record matches current state"),sessionStorage.removeItem("note-"+t),p(!1)):D(" but saved record is behind current version"),n.setQueryData(["note",t],v),h(new Date().toLocaleTimeString()),n.invalidateQueries(["note list"])},onError:v=>{D(" Mutation failed: ",v)},retry:2}),C=m.mutate;y.useEffect(()=>{D("draft-check mutation triggered"),sessionStorage["note-"+t]&&(D("Sending stored draft..."),C({note_id:t,title:e,content:s}))},[C,t,e,s]);const x=H("put",v=>{C({note_id:t,...v})},3e3);function j({title:v,content:w}){sessionStorage["note-"+t]=JSON.stringify({title:v,content:w})}let M="success.main";f&&(M="warning.main"),g&&(M="error.main");let O="Saved";return f&&(O="Unsaved"),m.isLoading&&(O="Autosaving..."),o.jsxs(G,{spacing:4,children:[o.jsx(X,{label:"Title",value:a,onChange:v=>{p(!0),l(v.target.value),j({title:v.target.value,content:c}),x({title:v.target.value,content:c})},sx:{width:"100%"},inputRef:r}),o.jsx(X,{label:"Content",value:c,onChange:v=>{p(!0),u(v.target.value),j({title:a,content:v.target.value}),x({title:a,content:v.target.value})},sx:{width:"100%"},minRows:5,maxRows:15,id:"outlined-textarea",multiline:!0}),o.jsxs(Z,{sx:{display:"flex",justifyContent:"end"},children:[o.jsx(I,{variant:"caption",color:M,children:O}),o.jsx(I,{variant:"caption",children:d&&!m.isLoading&&(f?o.jsxs(o.Fragment,{children:["since ",d]}):o.jsxs(o.Fragment,{children:["at: ",d]}))})]})]})}const _=console.log.bind(console),qe=new Ss({queryCache:new Dt({onSuccess:t=>{if(t.error&&(t.error==="No identification provided."||t.error==="Token expired.")&&(_(" Cookie expired"),qe.setQueryData(["heartbeat"],"")),t.exp&&localStorage.lastLogin){const e=JSON.parse(localStorage.lastLogin);_(" Got new expiry. Updating ",e.expires," to ",t.exp*1e3,` (${(t.exp*1e3-e.expires)/1e3}s later)`),localStorage.lastLogin=JSON.stringify({...e,expires:t.exp*1e3})}}}),mutationCache:new Qt({onSettled:t=>{t.error&&(t.error==="No identification provided."||t.error==="Token expired.")&&(_("Looks like we've logged out."),qe.setQueryData(["heartbeat"],""))}})}),ui={resource:"https://ontime-vrjj.onrender.com/login",method:"DELETE",credentials:"include"},di={resource:"https://ontime-vrjj.onrender.com/me",credentials:"include"};function hi(){return o.jsx(Rt,{theme:os,children:o.jsx(as,{children:o.jsx(Ns,{client:qe,children:o.jsxs(_n,{children:[o.jsx(Un,{}),o.jsx(pi,{})]})})})})}function fi(){return o.jsx(o.Fragment,{children:o.jsx(Z,{sx:{position:"absolute",top:"0px",backgroundImage:[`url(${Tn})`,`url(${$n})`],backgroundSize:["135vh","cover"],backgroundPosition:"center",height:["90vh","max(20rem, 55vh)"],width:"100%",zIndex:-1}})})}function pi(){const[e,s]=y.useState(()=>{const f=JSON.parse(localStorage.lastLogin||"{}");return Date.now()<f.expires?(_("Using stored login: ",f),f):(_("stored login missing or expired: ",f),null)}),r=te(),n=ne(),i=re(),a=y.useRef(null),l=Ke({queryKey:["heartbeat"],queryFn:n(di),placeholderData:e||{notice:"Awaiting login."},staleTime:6e4,enabled:!!e}),c=l.data.notice==="Awaiting login."?"":l.data,u=ee({mutationFn:n(ui),onSuccess:async()=>{_(">> logout success..."),await i.cancelQueries(),i.invalidateQueries(),i.setQueryData(["heartbeat"],""),sessionStorage.clear(),localStorage.removeItem("lastLogin"),s(null)},retry:3});async function d(f){await i.cancelQueries({queryKey:["heartbeat"]}),i.removeQueries({queryKey:["note list"]}),i.removeQueries({queryKey:["note"]}),i.setQueryData(["heartbeat"],f);const p=Date.now();localStorage.lastLogin=JSON.stringify({...f,expires:p+f.ttl}),s(JSON.parse(localStorage.lastLogin)),_("setting lastlogin=",JSON.parse(localStorage.lastLogin));try{sessionStorage.idempotentKey=crypto.randomUUID()}catch{sessionStorage.idempotentKey=(Math.random()*1e12).toFixed()}_(" set idempotent key = ",sessionStorage.idempotentKey)}let h=o.jsx(o.Fragment,{});return c?h=o.jsx(ni,{...c}):h=o.jsxs(G,{direction:"row",mt:4,sx:{flexWrap:"wrap"},children:[o.jsxs("h1",{style:{fontSize:"3.25rem",lineHeight:"1.35em",letterSpacing:"-0.02em",marginRight:"1em"},children:["Scribble notes.",o.jsx("br",{}),"Test this placeholder app."]}),o.jsx(Gn,{signInRef:a,onIdentify:d})]}),o.jsxs(o.Fragment,{children:[o.jsx(Nn,{user:c,onLogout:u.mutate,onGetStarted:()=>{a.current.scrollIntoView(),a.current.focus()},isLoggingOut:u.status==="loading"}),o.jsx(fi,{}),o.jsx(Ce,{maxWidth:"lg",children:h}),o.jsx(jt,{open:!!e&&!c,children:o.jsx(ue,{elevation:5,sx:{p:3,borderLeft:`4px solid ${r.palette.primary.main}`},children:o.jsxs(G,{children:[o.jsx("div",{children:"You have been logged out due to inactivity."}),o.jsx(q,{variant:"outlined",tabIndex:1,sx:{mx:"auto",mt:"10px",width:"150px"},onClick:f=>{f.preventDefault(),_("user=",c),localStorage.removeItem("lastLogin"),s(null)},children:"OK"})]})})}),o.jsx(Zs,{initialIsOpen:!1})]})}ls.createRoot(document.getElementById("root")).render(o.jsx(cs.StrictMode,{children:o.jsx(hi,{})}));
